{"version":3,"sources":["../../src/core/db.js"],"names":["settings","require","sqlDb","exports","executeSql","sql","callback","conn","Connection","dbConfig","connect","then","req","Request","query","recordset","catch","err","console","log"],"mappings":";;AAAA,IAAIA,WAAWC,QAAQ,aAAR,CAAf;AACA,IAAIC,QAAQD,QAAQ,OAAR,CAAZ;;AAEAE,QAAQC,UAAR,GAAqB,UAASC,GAAT,EAAcC,QAAd,EAAuB;;AAExC,QAAIC,OAAO,IAAIL,MAAMM,UAAV,CAAqBR,SAASS,QAA9B,CAAX;AACAF,SAAKG,OAAL,GACCC,IADD,CACM,YAAU;AACZ,YAAIC,MAAM,IAAIV,MAAMW,OAAV,CAAkBN,IAAlB,CAAV;AACAK,YAAIE,KAAJ,CAAUT,GAAV,EACCM,IADD,CACM,UAASI,SAAT,EAAoB;AACxBT,qBAASS,SAAT;AACD,SAHD,EAICC,KAJD,CAIO,UAASC,GAAT,EAAa;AAClBC,oBAAQC,GAAR,CAAYF,GAAZ;AACAX,qBAAS,IAAT,EAAeW,GAAf;AACD,SAPD;AAQH,KAXD,EAYCD,KAZD,CAYO,UAASC,GAAT,EAAa;AAChBC,gBAAQC,GAAR,CAAYF,GAAZ;AACAX,iBAAS,IAAT,EAAeW,GAAf;AACH,KAfD;AAgBH,CAnBD","file":"db.js","sourcesContent":["var settings = require('../settings');\nvar sqlDb = require('mssql');\n\nexports.executeSql = function(sql, callback){\n\n    var conn = new sqlDb.Connection(settings.dbConfig);\n    conn.connect()\n    .then(function(){\n        var req = new sqlDb.Request(conn);\n        req.query(sql)\n        .then(function(recordset) {\n          callback(recordset);\n        })\n        .catch(function(err){\n          console.log(err);\n          callback(null, err);\n        });\n    })\n    .catch(function(err){\n        console.log(err);\n        callback(null, err);\n    });\n};"]}